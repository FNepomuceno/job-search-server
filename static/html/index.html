<html>
<head>
<title>Job Hunt</title>
<style>
table, th, td {
	border: 1px solid black;
}
td {
	text-align: center;
}
</style>
</head>
<body>
<h1>Job Hunt</h1>

<table>
<tr>
	<th>Company</th>
	<th>Position</th>
	<th>Location</th>
	<th>Date Applied</th>
	<th>Status</th>
	<th>Progress</th>
	<th>Job Application Link</th>
	<th>Apply Method</th>
	<th>Referrer</th>
	<th>Interview details</th>
	<th>Latest Update Date</th>
	<th>Resume version</th>
</tr>
<tr>
	<td colspan="12">No applications found</td>
</tr>
</table>

<form action="/", method="POST">
  <label for="company">Company:</label><br>
  <input type="text" id="company" name="company" value=""><br>
  <input type="submit" value="Submit">
</form>

<button id="job_request">Get applications</button>
<script>
let request_button = document.getElementById("job_request");
request_button.addEventListener("click", (event) => {
    // convert this into an asynchronous function TODO
    console.log("Getting applications...");
    let httpRequest = new XMLHttpRequest();
    if (!httpRequest) return;

    httpRequest.onreadystatechange = function () {
        if (httpRequest.readyState === XMLHttpRequest.DONE) {
            console.log(`Response status: ${httpRequest.status}`);
            console.log(`Response Text:\n${httpRequest.responseText}`);
        }
    };

    httpRequest.open('GET', 'jobs');
    httpRequest.send();
});
</script>

</body>
</html>
